import{b as I,a as N,Q as J}from"./QSpinner-BN2KvcKq.js";import{Q as U}from"./QSpinnerHourglass-DrrqhVhc.js";import{a as i,c as W,r as s,y as X,o as G,h as d,x as Z,w as ee,g as te,H as ae,$ as re,a1 as ie,Q as C,K as S,a2 as ne,a0 as B,M as Q,N as k,J as P,L,O as oe,a3 as R,X as j,V as O,_ as se}from"./index-CiW-HxPS.js";import{h as le}from"./render-C8JR9mId.js";import{u as K}from"./use-timeout-Dzcw90uy.js";import{Q as M,o as ue}from"./open-url-BAcDqK4I.js";import{u as ce}from"./use-quasar-l3J-91c7.js";import{u as de}from"./vue-i18n.runtime-HRZlqYmZ.js";const me={ratio:[String,Number]};function ve(e,l){return i(()=>{const u=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const ge=1.7778,fe=W({name:"QImg",props:{...me,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ge},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:u}){const a=s(e.initialRatio),f=ve(e,a),c=te(),{registerTimeout:z,removeTimeout:p}=K(),{registerTimeout:T,removeTimeout:y}=K(),b=i(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),x=i(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),n=[s(null),s(b.value)],o=s(0),m=s(!1),h=s(!1),r=i(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),v=i(()=>({width:e.width,height:e.height})),_=i(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),H=i(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function D(){if(y(),e.loadingShowDelay===0){m.value=!0;return}T(()=>{m.value=!0},e.loadingShowDelay)}function q(){y(),m.value=!1}function V({target:t}){N(c)===!1&&(p(),a.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,$(t,1))}function $(t,g){g===1e3||N(c)===!0||(t.complete===!0?Y(t):z(()=>{$(t,g+1)},50))}function Y(t){N(c)!==!0&&(o.value=o.value^1,n[o.value].value=null,q(),t.getAttribute("__qerror")!=="true"&&(h.value=!1),u("load",t.currentSrc||t.src))}function E(t){p(),q(),h.value=!0,n[o.value].value=x.value,n[o.value^1].value=b.value,u("error",t)}function A(t){const g=n[t].value,w={key:"img_"+t,class:_.value,style:H.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return o.value===t?Object.assign(w,{class:w.class+"current",onLoad:V,onError:E}):w.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+t},d("img",w))}function F(){return m.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},le(l[h.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[d(I,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){ee(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{p(),h.value=!1,g===null?(q(),n[o.value^1].value=b.value):D(),n[o.value].value=g},{immediate:!0})};X.value===!0?G(t):t()}return()=>{const t=[];return f.value!==null&&t.push(d("div",{key:"filler",style:f.value})),n[0].value!==null&&t.push(A(0)),n[1].value!==null&&t.push(A(1)),t.push(d(Z,{name:"q-transition--fade"},F)),d("div",{key:"main",class:r.value,style:v.value,role:"img","aria-label":e.alt},t)}}}),ye=["href"],he={key:0,class:"blank_href_tips_block"},Se={class:"secondary-btn column justify-center items-center full-width full-height wrap"},pe={key:1,class:"secondary-btn-easter-egg column justify-center items-center full-width wrap"},be=["src"],_e=ae({__name:"CardButton",props:{route:{type:Object,required:!0},responsiveProps:{type:Object,required:!0},iconName:{type:String},iconColorClass:{type:String,default:"text-primary"},avatar:{type:String},secondaryAvatar:{type:String,default:""},titleKeyword:{type:String,required:!0},secondaryTitleKeyword:{type:String,default:""},backgroundColor:{type:String,default:"#eef4f8"},textColor:{type:String,default:"#081e27"}},setup(e){re(r=>({"5829bcac":b.value,b938db88:o.value,"7af80117":x.value,"44bad97a":z.value,"869f4b3e":p.value,"46a53678":T.value}));const{t:l}=de(),u=ce(),a=e,f=ie(),c=s(!!(a.secondaryAvatar&&a.secondaryAvatar!=="")),z=s(c.value?"translateY(-100%)":"translateY(0)"),p=s(c.value?0:1),T=s(c.value?"translateY(-50%)":"translateY(0)"),y=i(()=>{const r=u.screen.width*a.responsiveProps?.coefficientA+a.responsiveProps?.coefficientB;return r>a.responsiveProps?.valueMax?a.responsiveProps?.valueMax:r<a.responsiveProps?.valueMin?a.responsiveProps?.valueMin:r}),b=i(()=>`${y.value}rem`),x=i(()=>`${y.value*.01}rem`),n=i(()=>`${y.value*.6}rem`),o=i(()=>a.backgroundColor),m=i(()=>a.textColor);function h(r){const v=_=>{console.error("路由跳转失败:",_)};r.name?(r.params?f.push({name:r.name,params:r.params}):f.push({name:r.name})).catch(v):r.path?.indexOf("http")===-1?f.push({path:r.path}).catch(v):ue(r.path??"#")}return(r,v)=>(S(),C("a",{class:"custom-card-btn-wrapper rounded-borders",style:{display:"block"},href:a.route.path??"#",onClick:v[0]||(v[0]=ne(_=>h(a.route),["prevent"])),referrerpolicy:"strict-origin-when-cross-origin"},[a.route.path&&a.route.path.indexOf("http")!==-1?(S(),C("div",he,[k(J,{name:"open_in_new",color:"primary",size:"xs"})])):B("",!0),Q("div",Se,[a.iconName?(S(),P(M,{key:1,class:oe([a.iconColorClass,"custom-card-picture-in-btn"]),icon:e.iconName,size:n.value,color:"transparent",rounded:""},null,8,["class","icon","size"])):(S(),P(M,{key:0,size:n.value,class:"custom-card-picture-in-btn",rounded:""},{default:L(()=>[k(fe,{src:a.avatar,alt:"card btn avatar"},{loading:L(()=>[k(U,{color:"primary"})]),_:1},8,["src"])]),_:1},8,["size"])),Q("span",{style:R({color:m.value}),class:"text-subtitle1 text-bold ellipsis"},j(O(l)(a.titleKeyword)),5)]),c.value?(S(),C("div",pe,[k(M,{size:n.value,class:"custom-card-picture-in-btn",rounded:""},{default:L(()=>[Q("img",{src:a.secondaryAvatar,alt:"card btn avatar"},null,8,be)]),_:1},8,["size"]),e.secondaryTitleKeyword&&e.secondaryTitleKeyword!==""?(S(),C("span",{key:0,style:R({color:m.value}),class:"text-subtitle1 text-bold ellipsis"},j(O(l)(a.secondaryTitleKeyword)),5)):B("",!0)])):B("",!0)],8,ye))}}),Be=se(_e,[["__scopeId","data-v-df8f1dff"]]);export{Be as C};
